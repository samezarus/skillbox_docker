Изоляция происходит за счёт namespaces, а ресурсы выделяются за счёт cgroups

Контейнер - програмный комплекс, запущенный на основе докер-образа

Докер-образы:

    docker search <имя образа> - поиск образа

    docker pull <имя образа> - копирование образа локальное хранилище

    docker image inspect <имя образа> - инфо о образе 

    docker image ls - список образов в локальном хранилище

    docker image tag <целевой образ> <новый образ>:<тэг> - копирование целевого образа в новый с новыи тегом

        docker image tag ubuntu:22.04 ubuntu:test (ubuntu:22.04 останется и на основе него появится ubuntu:test)

    docker image rm <имя образа> - удаление образа из локального хранилища

    docker image save -o <путь к файлу-архиву> <имя образа> - сохранение образа в файл-архив

    docker image import -m <строковый коментарий> <файл-архив> - импорт образа из файла-архива (создаться новый)

    docker image load -i <файл-архив> - воссащдание образа из файла-архива (т.е. перепишет текущий образ)

Докер-контейнеры:

    docker container ps/list - список контейнеров

    docker container rename <id контейнера> <новое имя контейнера>

    docker container commit -m <строковый коментарий> <имя контейнера> <имя образа> - создать образ 
    на основе указанного контейнера (т.е. записать состояние контейгера в образ)

    docker cp <id контейнера>:<имя файла> <путь назначения> - копирование файла из контейнера на хост

    docker cp <имя файла> <id контейнера>:<путь назначения>  - копирование файла с хоста в контейнер

    docker container stats

    docker run -it <id образа> - запуск контейнера в интерактивном режиме

    docker container exec <id контейнера> <команда> - запуск контейнера с командой

        docker container exec -it mycontainer1 /bin/bash

Том/Volume:

    docker volume ls - список томов

    docker volume inspect <имя тома>

    docker volume create --name <имя тома>

    Монтирование:

        Каталога:
            
            docker run -it --mount type=bind,source=<хостовый путь>,deatination=<путь в контейнере> <имя образа>

            Используется для прокидывания кода, конфигов и тд

        Тома:

            docker run -it --mount type=volume,source=<имя тома>,deatination=<путь в контейнере> <имя образа>

        Временную файловую систему:

            docker run -it --mount type=tmpfs,deatination=<путь в контейнере> <имя образа>

            docker run -it --tmpfs <путь в контейнере> <имя образа>

Сеть:

    Драйверы:

        bridge - связь нескольких контейнеров (в основном)

        host - убирает сетевую изоляцию между хостом и контейнером

        none - полностью выключает сеть у контейнера

        overlay - docker swarm (контейнеры на разных хостах)

        macvlan - для легаси кода (использование мас-адреса)

        custom - самописные

    docker network ls - список сетей

    docker network create -d <тип драйвера> <имя сети>

    docker network connect <имя сети> <имя контейнера> - подключить сеть к работающему контейнеру

        Если есть уже какая-либо сеть, её нужно сначала отключить (docker network disconnect)
    
        Запуск нового контейнера с сетью(созданой):

            docker run -it --network=<имя сети> <имя образа>

    docker network disconnect <имя сети> <имя контейнера>

    порты:

        docker run -d -p 8080:80 nginx (мапинг 8080 в контейнер на порт 80)

Контекст:

    Инструмент для переключениями между хостами, где стоит Docker

    docker context ls - список контекстов

    docker context inspect <имя контекста>

    docker context create <имя контекста> - создание контекста

    docker context export <имя контекста> - экспорт контекста в файл ...

    docker context import <имя создаваемого контекста> <имя файла> - импорт контекста из файл ...

    docker context use <имя контекста> - переключиться на выбранный контекст